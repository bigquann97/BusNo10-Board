# 스프링 B반 10조 게시판 프로젝트
## 팀 소개
- 팀명 : 10번 버스
- 팀원 : 김관호, 김송미, 이재원, 임수
- 팀 소개: 모두가 버스 기사가 되겠다는 다짐!

## 프로젝트 소개
### 개요
기본적인 게시판 시스템에 연관관계를 더 깊이있게 확장하여 다양한 부가기능을 덧붙여 보았습니다.

### 구현 목표
1. 게시물/댓글/대댓글 CRUD 구현
2. 좋아요 구현
3. 유저 진급 시스템 

### 프로젝트 빌드
SpringBoot 2.7.7 + Java/JDK 11

### 디펜던시 목록
- Spring-Web
- Spring-Devtools
- Spring-Security
- Spring-Validation
- Spring-Data-JPA
- Lombok
- H2 Database
- Thymeleaf
- JWT

### 팀 노션 링크
[BusNo10-Board](https://pointy-icon-281.notion.site/f3f8139db4484b5694dc5be2a43f10db)

## ERD 설계
![Untitled](https://user-images.githubusercontent.com/86715916/210497338-d9945fd0-1bb8-4613-b5af-2456474c2a23.png)

## 다이어그램 기능 정리
![메인](https://user-images.githubusercontent.com/86715916/210497528-2ef266f9-13e7-4090-99b6-4750f14ee6c0.jpg)
![게시글](https://user-images.githubusercontent.com/86715916/210497532-59486ab3-05ef-4adc-9059-dbc09ebf10de.jpg)
![댓글](https://user-images.githubusercontent.com/86715916/210497546-ae840cd2-ca7a-4400-a7fd-a429f1a0abed.jpg)
![좋아요](https://user-images.githubusercontent.com/86715916/210497553-8318e8bd-2046-4f76-bee8-423f5a96f18b.jpg)

## 고민해본 개념
### Spring Security를 적용했을 때 어떤 점이 도움이 되는가?
인증과 인가를 처리하는 별도의 클래스 파일이나 로직을 만들지 않고, 스프링 시큐리티에게 해당 역할을 위임하여 편리하게 보안성 있는 프로젝트를 작성할 수 있었습니다.   
특히, 인증/인가 도구로 채택한 JWT를, 스프링 시큐리티 필터 중간에 끼워넣는 방식을 통해 편리하게 사용할 수 있었습니다.   
또한, Security Context Holder를 통해 코드 중간에서 편리하게 요청한 사용자에 대한 정보를 꺼내올 수 있어 편리했습니다.   

### Spring Security를 사용하지 않는다면 어떻게 인증/인가를 효율적으로 처리할 수 있을까?
1. 쿠키(Cookie)   
- 서버에서 받은 데이터(쿠키)를 저장해놓았다가, 동일한 서버로 요청시 제공받은 데이터를 함께 전송하는 방식입니다.
- 사용자의 주요 정보를 바탕으로 쿠키를 만들어 서버에 계속 쿠키 데이터를 보내는 형식입니다.
- 사용자의 주요 정보를 매번 요청에 담아야 하기에 보안상의 문제가 발생합니다.
2. 세션(Session)
- 주요 정보가 아닌, 사용자 식별 값을 생성해 Cookie로 주고받습니다.
- 해당 식별값(Session ID)를 바탕으로 접근에 대한 인증/인가를 진행합니다.
- 사용자를 식별할 수 있는 값을 생성하고 서버에 저장해두어야 합니다.
### IoC / DI란 무엇일까?
- Ioc(Inversion of Control)
메소드나 객체의 호출작업을 개발자가 결정하는 것이 아니라 외부에서 결정되는 것을 의미합니다.   
→ 객체의 의존성을 역전시켜 객체 간의 결합도를 줄이고 유연한 코드를 작성할 수 있게 하여 가독성 및 코드중복, 유지보수를 편하게 할 수 있게 합니다.
- DI(Dependency Injection)
의존 관계 주입기능으로 객체를 직접 생성하는 것이 아니라 외부에서 생성한 후 주입시켜주는 방식입니다.   
→ DI를 통해 모듈간의 결합도가 낮아지고 유연성이 높아집니다.
### AOP란 무엇일까?
비즈니스 로직인 ‘핵심 기능’과 핵심 기능을 도와주는 ‘부가 기능’을 분리하고,   
부가 기능을 애스팩트(Aspect)라는 모듈 형태로 만들어서 재사용 가능할 수 있도록 합니다.   
모듈화된 부가 기능은 어떤 핵심기능에 적용할 지 범위를 지정할 수 있고, 수정 시에 부가 기능 코드만 바꾸면 모든 핵심기능에 적용되기 때문에 관리가 매우 용이합니다.
### RefreshToken에 대한 장/단점은 무엇일까?
짧은 주기인 Access Token과는 다르게 유효 기간이 긴 Refresh Token을 사용하는데 
정상적인 사용자는 Access Token이 만료됐다면 서버측에 Refresh Token을 전송하여 다시 로그인할 필요 없이 Access Token을 발급받을 수 있습니다.   
이 Refresh Token이 없는 공격자는 다시 토큰을 발급받을 수 없기 때문에 보안 측면에서 좀 더 안전 하다는 장점이 있습니다.   
이때 HTTP 하이재킹으로 중간에 만료 시간이 지나지 않은 access token이 탈취될 수 있습니다.   
이 때문에 HTTPS를 반드시 기본으로 사용하여 클라이언트와 서버 간에 전송되는 데이터를 암호화하는 것이 바람직 합니다.
### 즉시로딩/지연로딩은 어떤 차이점이 있을까?
'즉시 로딩'은 항상 외부 조인(OUTER JOIN)을 사용합니다.(외부 조인보다 내부 조인(INNER JOIN)이 성능 최적화에 더 유리합니다.)   
특정 엔티티를 조회할 때 연관된 모든 엔티티를 같이 로딩하는 것을 즉시 로딩(EAGER Loading)이라고 합니다.   
즉시 로딩은 연관된 엔티티를 모두 가져온다는 장점이 있지만, 실무에서 엔티티 간의 관계가 복잡해질수록 조인으로 인한 성능 저하를 피할 수 없고 JPQL에서 N + 1 문제를 일으킵니다.   
즉시 로딩'은 불필요한 조인까지 포함해 처리하는 경우가 많기 때문에 '지연 로딩'의 사용을 권장하고 있습니다.   
